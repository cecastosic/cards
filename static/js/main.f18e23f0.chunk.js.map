{"version":3,"sources":["components/Card.tsx","components/Header.tsx","components/Pagination.tsx","hooks/useFetch.ts","hooks/useDebounce.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Card","data","className","role","src","imagePath","alt","description","title","Header","value","setSearchQuery","type","name","placeholder","onChange","e","target","autoFocus","ArrowIconNext","xmlns","height","width","d","fill","ArrowIconPrevious","Pagination","totalItems","itemsPerPage","currentPage","onPageChange","useState","current","setCurrent","countPages","Math","ceil","pages","i","push","onClick","map","page","index","baseUrl","useFetch","path","Error","url","useSwr","error","useDebounce","delay","debouncedValue","setDebouncedValue","useEffect","timer","setTimeout","clearTimeout","App","searchQuery","debouncedQuery","cards","setCards","setTotalItems","setCurrentPage","allCards","filteredCards","filter","card","toLowerCase","includes","length","pageNumber","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","fetcher","input","init","a","fetch","res","json","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f18e23f0.chunk.js","sourcesContent":["export type CardData = {\n  title: string;\n  description: string;\n  imagePath: string;\n};\n\ntype CardProps = {\n  data: CardData;\n};\nexport const Card = ({ data }: CardProps) => {\n  return (\n    <div className=\"card\" key={data.title} role=\"gridcell\">\n      <div className=\"image\">\n        <img src={data.imagePath} alt={data.description} />\n      </div>\n    </div>\n  );\n};\n","export const Header = ({\n  value,\n  setSearchQuery,\n}: {\n  value: string;\n  setSearchQuery: React.Dispatch<React.SetStateAction<string>>;\n}): JSX.Element => {\n  return (\n    <header>\n      <h1>Cards</h1>\n      <div className=\"search\">\n        <input\n          type=\"text\"\n          name=\"search\"\n          placeholder=\"Search for a card\"\n          value={value}\n          onChange={(e) => setSearchQuery(e.target.value)}\n          autoFocus\n        />\n      </div>\n    </header>\n  );\n};\n","import React, { useState } from \"react\";\n\nconst ArrowIconNext = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height=\"24\"\n      width=\"24\"\n      className=\"inline-block\"\n    >\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n      <path\n        d=\"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"\n        fill=\"#fff\"\n      />\n    </svg>\n  );\n};\n\nconst ArrowIconPrevious = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      height=\"24\"\n      width=\"24\"\n      className=\"inline-block\"\n    >\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n      <path\n        d=\"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z\"\n        fill=\"#fff\"\n      />\n    </svg>\n  );\n};\n\nexport const Pagination = ({\n  totalItems,\n  itemsPerPage = 8,\n  currentPage = 1,\n  onPageChange,\n}: {\n  totalItems: number;\n  itemsPerPage?: number;\n  currentPage?: number;\n  onPageChange: (pageNumber: number) => void;\n}) => {\n  const [current, setCurrent] = useState(currentPage);\n  const countPages: number = Math.ceil(totalItems / itemsPerPage);\n\n  const pages: number[] = [];\n  for (let i = 1; i <= countPages; i++) {\n    pages.push(i);\n  }\n  return (\n    <nav\n      className=\"paginate-container\"\n      role=\"navigation\"\n      aria-label=\"Pagination Navigation\"\n    >\n      <ul className=\"pagination\">\n        <li>\n          {current === 1 ? (\n            <span className=\"disable\">\n              <ArrowIconPrevious />\n            </span>\n          ) : (\n            <span\n              onClick={() => {\n                setCurrent(current - 1);\n                onPageChange(current - 1);\n              }}\n              role=\"link\"\n            >\n              <ArrowIconPrevious />\n            </span>\n          )}\n        </li>\n        {pages.map((page, index) => {\n          return (\n            <li\n              key={index}\n              className={current - 1 === index ? \"current-page\" : \"\"}\n            >\n              <span\n                onClick={() => {\n                  setCurrent(index + 1);\n                  onPageChange(index + 1);\n                }}\n                role=\"link\"\n              >\n                {page}\n              </span>\n            </li>\n          );\n        })}\n        <li>\n          {current === countPages ? (\n            <span className=\"disable\">\n              <ArrowIconNext />\n            </span>\n          ) : (\n            <span\n              onClick={() => {\n                setCurrent(current + 1);\n                onPageChange(current + 1);\n              }}\n              role=\"link\"\n            >\n              <ArrowIconNext />\n            </span>\n          )}\n        </li>\n      </ul>\n      <p>\n        Showing {(current - 1) * itemsPerPage + 1}-\n        {itemsPerPage * current > totalItems\n          ? totalItems\n          : itemsPerPage * current}{\" \"}\n        of {totalItems}\n      </p>\n    </nav>\n  );\n};\n","import useSwr from \"swr\";\n\nconst baseUrl = \"https://my-json-server.typicode.com/cecastosic/cards/\";\n\nexport const useFetch = (\n  path: string,\n  name?: string\n): {\n  data: any;\n  error: any;\n} => {\n  if (!path) {\n    throw new Error(\"Path is required\");\n  }\n\n  const url: string = name ? baseUrl + path + \"/\" + name : baseUrl + path;\n  const { data, error } = useSwr(url);\n\n  return { data, error };\n};\n","import { useEffect, useState } from \"react\";\n\nfunction useDebounce<T>(value: T, delay?: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\n\n  useEffect(() => {\n    const timer = setTimeout(() => setDebouncedValue(value), delay || 500);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n\nexport default useDebounce;\n","import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { Card, CardData } from \"./components/Card\";\nimport { Header } from \"./components/Header\";\nimport { Pagination } from \"./components/Pagination\";\nimport { useFetch } from \"./hooks/useFetch\";\nimport useDebounce from \"./hooks/useDebounce\";\n\nfunction App() {\n  const [searchQuery, setSearchQuery] = useState<string>(\"\");\n  const debouncedQuery = useDebounce<string>(searchQuery, 500);\n  const [cards, setCards] = useState<CardData[] | null>(null);\n  const [totalItems, setTotalItems] = useState<number>(0);\n  const [currentPage, setCurrentPage] = useState<number>(1);\n\n  const { data: allCards } = useFetch(\"/cards\");\n  const { data } = useFetch(`/cards?_page=${currentPage}&_limit=8`);\n\n  useEffect(() => {\n    if (debouncedQuery !== \"\") {\n      const filteredCards: CardData[] = allCards.filter((card: CardData) =>\n        card.title.toLowerCase().includes(debouncedQuery.toLowerCase())\n      );\n      setCards(filteredCards);\n    } else setCards(null);\n  }, [debouncedQuery, allCards]);\n\n  useEffect(() => {\n    if (allCards) {\n      setTotalItems(allCards.length);\n    }\n  }, [allCards]);\n\n  if (cards) {\n    return (\n      <div className=\"app\">\n        <Header value={searchQuery} setSearchQuery={setSearchQuery} />\n        <div className=\"container\" role=\"grid\">\n          {cards.length > 0 ? (\n            cards.map((card: CardData) => {\n              return <Card data={card} key={card.imagePath} />;\n            })\n          ) : (\n            <p>No card matches the search criteria</p>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"app\">\n      <Header value={searchQuery} setSearchQuery={setSearchQuery} />\n      <div className=\"container\" role=\"main\">\n        {data && data.length > 0 ? (\n          <>\n            {data.map((card: CardData) => {\n              return <Card data={card} key={card.imagePath} />;\n            })}\n            <Pagination\n              totalItems={totalItems}\n              onPageChange={(pageNumber) => setCurrentPage(pageNumber)}\n              currentPage={currentPage}\n            />\n          </>\n        ) : (\n          <p>No cards</p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { SWRConfig } from \"swr\";\n\nconst fetcher = async (input: RequestInfo, init: RequestInit) => {\n  const res = await fetch(input, init);\n  return res.json();\n};\n\nReactDOM.render(\n  <React.StrictMode>\n    <SWRConfig value={{ fetcher }}>\n      <App />\n    </SWRConfig>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}